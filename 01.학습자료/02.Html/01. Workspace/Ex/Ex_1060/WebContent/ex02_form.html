<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>자바 스크립트의 form 태그를 사용하여 서버에 값 전달 1</title>
		
		<script type="text/javascript">
			/*	form태그
					- 사용자로부터 정보를 입력받기위해서 사용하는 태그
					- input, select 등 form태그의 name 명칭과 value값이 key, value 값을 쌍으로 이뤄 action의 주소로 전송한다.
					- form태그를 사용하여 서버로 데이터를 보내는 방식은 총 세가지가 있다.
					
					속성
						- action : 데이터를 전송할 주소
						- method : 전송 방식
							(1) get
								- 기본 값
								- url에 값을 붙여서 전송되는 방식으로 속도가 높으나 사용자에게 변수가 노출되어 보안이 약하다.
								- 문자열 형식의 데이터 전송
								
							(2) post
								- url에 값을 노출하지 않는 방식으로 속도가 느리고 한글 전송 시 인코딩을 해야한다.
								- 문자열, 바이너리 형식의 데이터 전송
								- 데이터 길이에 제한이 없다.
								
					에러
						- 404 : 전송하는 페이지를 찾지 못하는 에러
						- 500 : 전송 값이 잘못되는 경우 등의 서버 에러
			*/
			
			// form태그의 1번 방식
			//	- document 객체에서 form단위 인덱스 배열로 form태그를 찾은 뒤 스크립트 내에서 원하는대로 사용하는 방식
			function check1() {
							
				// form태그 사용 시 document.forms에 form단위 인덱스로 배열 형태에 저장된다.
				var f = document.forms[0];
				
				// input태그 중 name값이 id, pwd인 값을 저장
				var id = f.id.value;
				var pwd = f.pwd.value;

				// 유효성 검증
				// - 유효성 체크는 형식에 맞는 값이 왔는지 화면 단에서 판단하는 작업이다.
				if(id==''){
					alert("아이디를 입력해야합니다.");
					// 검증에 실패하였으므로 return을 만나 메소드를 그냥 나오게 한다.
					return;
				}
				if(pwd==''){
					alert("비밀번호를 입력해야합니다.");
					return;
				}
				
				// 전송 방식
				f.method = "get";
				
				// 파라미터를 전달한 주소
				f.action = "login.jsp";
				
				// submit 
				// - 파라미터를 가진 채 서버로 전송
				f.submit();
			}
		</script>
				
	</head>
	<body>
		<form action="">
			<table border="1">
				<tr>
					<th>아이디</th>
					<td><input type='text' name="id"></td>
				</tr>

				<tr>
					<th>비밀번호</th>
					<td><input type='password' name="pwd"></td>
				</tr>

				<tr>
					<th>혈액형</th>
					<td><select name="blood">
						<option>혈액형을 선택해주세요.</option>
						<option>A형</option>
						<option>B형</option>					
						<option>O형</option>					
						<option>AB형</option>					
					</select></td>
				</tr>				
			</table>
			
			<!-- submit & button 차이
					- submit은 스크립트 진입 없이 form태그 내에 있는 form 요소 (input 등) 의 name과 value값을 action주소로 넘긴다.
					- button은 스크립트 영역에서 함수를 통해서 전송
			-->
			<input type="submit" value="폼 예제1">
			<input type="button" value="폼 버튼" onclick="check1();">
		</form>
	</body>
</html>